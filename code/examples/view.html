<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Model</title>
    <script src="../lib/jquery-2.1.1.js"></script>
    <script src="../lib/underscore.js"></script>
    <script src="../lib/backbone.js"></script>
</head>

<body>


<script>
	  var BookModel = Backbone.Model.extend({
	    idAttribute: 'id'

	  });

	var BookView = Backbone.View.extend({
		events: {
			"click input#update": "updateTitle"
		},

		initialize: function() {
			console.log('View model: ' + this.model);	
			this.model.on('change', this.render, this);						  	
		},

		render: function() {
			this.$el.html('<h1>' + this.model.get('title') + '</h1><label>Title</label><input id="title" type="text" value="" ><input id="update" type="submit" value="Oppdater">' );
		},

		updateTitle: function() {
			this.model.set('title', this.$('#title').val());										  	
		}
	});
</script>
</body>
</html>
